{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js"],"sourcesContent":["import { getImages } from \"./pixabay-api\"; \nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nconst galleryList = document.querySelector(\".gallery-list\")\nconst searchButton = document.querySelector(\"button\")\nconst loader = document.querySelector(\".loader\");\n\n\n\nexport function clearGallery() {\n    galleryList.innerHTML = \"\";\n}\n\n\n\nsearchButton.addEventListener(\"click\", () => {\n    loader.style.display = \"block\";\n    getImages().then(imagesGenerating => {\n        galleryList.innerHTML = appendImageCard(imagesGenerating);\n        loader.style.display = \"none\";\n         const lightbox = new SimpleLightbox('.gallery-link');\n        lightbox.refresh();\n    });\n});\n\n\nexport function appendImageCard(imagesGenerating) {\n    return imagesGenerating.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `<li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\" class=\"gallery-link\" alt=\"${tags}\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n        </a>\n            <div class=\"wrapper-descs\">\n            <div class=\"wrapper-desc\">\n                <p class=\"desc\">Likes</p>\n                <p class=\"desc-values\">${likes}</p>\n                </div>\n                <div class=\"wrapper-desc\">\n                <p class=\"desc\">Views</p>\n                <p class=\"desc-values\">${views}</p>\n                </div>\n                <div class=\"wrapper-desc\">\n                <p class=\"desc\">Comments</p>\n                <p class=\"desc-values\">${comments}</p>\n                </div>\n                <div class=\"wrapper-desc\">\n                <p class=\"desc\">Downloads</p>\n                <p class=\"desc-values\">${downloads}</p>\n                </div>\n            </div>\n        </li>`).join(\"\");\n\n}\n\n","import { clearGallery } from \"./render-functions\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nconst inputText = document.querySelector(\"input\")\nconst formImage = document.querySelector(\"form\")\nconst loader = document.querySelector(\".loader\");\nconst URL = 'https://pixabay.com/api/'\nconst KEY = '42561040-543dc47762d23067e130ec962';\nlet QUERY = \"\";\ninputText.addEventListener(\"input\", event => {\n    QUERY = inputText.value;\n    console.log(QUERY)\n})\n\nexport function getImages() {\n\n    clearGallery()\n\n    const LINK = `${URL}?key=${KEY}&q=${QUERY}&image_type=photo&orientation=horizontal&safesearch=true`\n\n    return fetch(LINK)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(\"Image error\")\n            }\n            return response.json()\n        })\n        .then(data => {\n           const imagesGenerating = data.hits\n            if (imagesGenerating.length === 0) {\n                iziToast.warning({\n                    title: 'Caution',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            } else {\n                return imagesGenerating\n            }\n        })\n        .catch(error => {\n            iziToast.error({\n    title: 'Caution',\n    message: 'Error while fetching images from pixabay',\n            });\n            return []\n        })\n}\n\nformImage.addEventListener(\"submit\", event => {\n    event.preventDefault();\n    getImages()\n})\n"],"names":["galleryList","searchButton","loader","clearGallery","getImages","imagesGenerating","appendImageCard","SimpleLightbox","webformatURL","largeImageURL","tags","likes","views","comments","downloads","inputText","formImage","URL","KEY","QUERY","event","LINK","response","data","iziToast","error"],"mappings":"6vBAGA,MAAMA,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAe,SAAS,cAAc,QAAQ,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAIxC,SAASC,GAAe,CAC3BH,EAAY,UAAY,EAC5B,CAIAC,EAAa,iBAAiB,QAAS,IAAM,CACzCC,EAAO,MAAM,QAAU,QACvBE,EAAW,EAAC,KAAKC,GAAoB,CACjCL,EAAY,UAAYM,EAAgBD,CAAgB,EACxDH,EAAO,MAAM,QAAU,OACL,IAAIK,EAAe,eAAe,EAC3C,QAAO,CACxB,CAAK,CACL,CAAC,EAGM,SAASD,EAAgBD,EAAkB,CAC9C,OAAOA,EAAiB,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACjG;AAAA,mBACWL,CAAa,+BAA+BC,CAAI;AAAA,0CACzBF,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,yCAK3BC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA,cAGpC,EAAE,KAAK,EAAE,CAEvB,CChDA,MAAMC,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAY,SAAS,cAAc,MAAM,EAChC,SAAS,cAAc,SAAS,EAC/C,MAAMC,EAAM,2BACNC,EAAM,qCACZ,IAAIC,EAAQ,GACZJ,EAAU,iBAAiB,QAASK,GAAS,CACzCD,EAAQJ,EAAU,MAClB,QAAQ,IAAII,CAAK,CACrB,CAAC,EAEM,SAASf,GAAY,CAExBD,EAAc,EAEd,MAAMkB,EAAO,GAAGJ,CAAG,QAAQC,CAAG,MAAMC,CAAK,2DAEzC,OAAO,MAAME,CAAI,EACZ,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,aAAa,EAEjC,OAAOA,EAAS,KAAM,CAClC,CAAS,EACA,KAAKC,GAAQ,CACX,MAAMlB,EAAmBkB,EAAK,KAC7B,GAAIlB,EAAiB,SAAW,EAC5BmB,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,0EAC7B,CAAiB,MAED,QAAOnB,CAEvB,CAAS,EACA,MAAMoB,IACHD,EAAS,MAAM,CACvB,MAAO,UACP,QAAS,0CACb,CAAa,EACM,CAAE,EACZ,CACT,CAEAR,EAAU,iBAAiB,SAAUI,GAAS,CAC1CA,EAAM,eAAc,EACpBhB,EAAW,CACf,CAAC"}